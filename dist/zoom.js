/*
 zoom.ts v7.5.0
 https://www.michael-bull.com/projects/zoom.ts

 Copyright (c) 2017 Michael Bull (https://www.michael-bull.com)
 @license ISC
*/
function C(){function D(a){return[a.left,a.top]}function E(a,b){return[a[0]/b,a[1]/b]}function F(a,b){return[a[0]-b[0],a[1]-b[1]]}function L(a,b){a=[a[0]/b[0],a[1]/b[1]];return Math.min(a[0],a[1])}function M(a,b){return F(E(F(a,b.size),2),b.position)}function N(a){return[a.clientWidth,a.clientHeight]}function O(a,b){a=a.getAttribute("data-"+b);return null===a?Infinity:Number(a)}function Y(a){"function"!==typeof a.preventDefault&&(a.preventDefault=function(){a.returnValue=!1});"function"!==typeof a.stopPropagation&&
(a.stopPropagation=function(){a.cancelBubble=!0});if("mouseover"===a.type){var b=a;void 0===b.relatedTarget&&void 0!==b.fromElement&&(b.relatedTarget=b.fromElement)}else"mouseout"===a.type&&(b=a,void 0===b.relatedTarget&&void 0!==b.toElement&&(b.relatedTarget=b.toElement));return a}function v(a,b){"function"===typeof a?a(b):a.handleEvent(b)}function u(a,b,e,c){function d(a){var b;void 0===b&&(b=window);if(void 0===a)if(void 0!==b.event)a=b.event;else throw Error("No current event to handle.");v(e,
Y(a))}void 0===c&&(c=!1);var f=a.addEventListener,k=a.attachEvent;if("function"===typeof f)return f.call(a,b,d,c),d;if("function"===typeof k&&k.call(a,"on"+b,d))return d}function y(a,b,e){var c;void 0===c&&(c=!1);var d=u(a,b,function(c){void 0!==d&&n(a,b,d);v(e,c)},c);return d}function n(a,b,e){var c=a.removeEventListener,d=a.detachEvent;"function"===typeof c?c.call(a,b,e):"function"===typeof d&&d.call(a,b,e)}function z(a){return"CSS1Compat"===a.compatMode?a.documentElement:a.body}function Z(a,b){"complete"===
a.readyState?b():y(a,"DOMContentLoaded",function(){return b()})}function P(a,b){a=a.createElement("div");a.className=b;return a}function p(a,b){return{position:a,size:b}}function Q(a){a=a.getBoundingClientRect();return p(D(a),[a.width,a.height])}function G(a,b,e,c,d){a.left=b;a.top=e;a.width=c;a.maxWidth=c;a.height=d}function A(a,b){var e=b.position;b=b.size;G(a,e[0]+"px",e[1]+"px",b[0]+"px",b[1]+"px")}function B(a,b,e){a=N(z(a));var c=e.size;b=L([Math.min(a[0],b[0]),Math.min(a[1],b[1])],e.size);
b=[c[0]*b,c[1]*b];return{position:M(a,p(e.position,b)),size:b}}function R(a){return 0<a.length}function t(a,b){return-1!==a.className.indexOf(b)}function q(a,b){a.className=a.className.split(" ").concat(b).filter(R).join(" ")}function l(a,b){a.className=a.className.split(" ").filter(function(a){return R(a)&&a!==b}).join(" ")}function S(a){q(a,"zoom__element--hidden")}function T(a){q(a,"zoom__element--active")}function H(a,b){a=a.getAttribute("data-src");return null===a?b.src:a}function aa(a){var b=
document.createElement("img");b.className="zoom__clone";b.src=a;y(b,"load",function(){return q(b,"zoom__clone--loaded")});return b}function ba(a){return function(){void 0!==a.clone&&t(a.b,"zoom--expanded")&&!t(a.clone,"zoom__clone--visible")&&(q(a.clone,"zoom__clone--visible"),S(a.c))}}function I(a,b){q(b,"zoom__clone--visible");S(a)}function ca(a,b){l(a,"zoom__element--hidden");l(b,"zoom__clone--visible")}function x(a){return t(a,"zoom__clone--loaded")}function J(a,b,e,c,d){a=N(z(a));c=L([Math.min(a[0],
c[0]),Math.min(a[1],c[1])],d.size);var f;f=d.size;f=[f[0]*c,f[1]*c];var k=d.position;d=E(F(d.size,f),2);d=E(M(a,p([k[0]+d[0],k[1]+d[1]],f)),c);e.style[b.f]=b.l?"scale("+c+") "+("translate3d("+d[0]+"px, "+d[1]+"px, 0)"):"scale("+c+") "+("translate("+d[0]+"px, "+d[1]+"px)")}function U(a,b,e){a.style[b]="initial";e();a.offsetHeight;a.style[b]=""}function da(a){return function(b){27===b.keyCode&&(b.preventDefault(),b.stopPropagation(),v(a,b))}}function ea(a,b,e,c){return function(d){Math.abs(a-e())>=
b&&v(c,d)}}function V(a,b,e,c){var d=u(a,"scroll",ea(void 0===a.pageYOffset?z(a.document).scrollTop:a.pageYOffset,b.m,function(){return void 0===a.pageYOffset?z(a.document).scrollTop:a.pageYOffset},c)),f=u(a.document,"keyup",da(c)),k=u(e,"click",c);return function(){n(a,"scroll",d);n(a.document,"keyup",f);n(e,"click",k)}}function fa(a){var b=""+a.charAt(0).toUpperCase()+a.substr(1),e=ga.map(function(a){return""+a+b});return[a].concat(e)}function W(a,b){var e=0;for(b=fa(b);e<b.length;e++){var c=b[e];
if(c in a)return c}}function K(a,b,e){void 0!==e.clone&&ca(e.c,e.clone);l(e.c,"zoom__element--active");a.document.body.removeChild(e.h);l(e.b,"zoom--collapsing");e.b.style.height="";setTimeout(function(){return X(a,b)},1)}function ha(a,b,e,c,d){var f=Q(e.c),k=u(a,"resize",function(){var b=D(e.b.getBoundingClientRect());f=p(b,f.size);A(e.a.style,B(a.document,c,f))}),h;h=V(a,b,e.a,function(){h();n(a,"resize",k);void 0===e.clone||void 0===d||x(e.clone)||n(e.clone,"load",d);l(e.b,"zoom--expanded");G(e.a.style,
"","","","");K(a,b,e)});q(e.b,"zoom--expanded");e.b.style.height=e.c.height+"px";T(e.c);A(e.a.style,B(document,c,f))}function ia(a,b,e,c,d,f){function k(){void 0!==c.clone&&x(c.clone)&&!t(c.clone,"zoom__clone--visible")&&(void 0!==f&&n(c.clone,b.g,f),I(c.c,c.clone));l(c.b,"zoom--expanding");q(c.b,"zoom--expanded");U(c.a,b.transitionProperty,function(){c.a.style[b.f]="";A(c.a.style,B(a.document,d,h))})}var h=Q(c.c),g=u(a,"resize",function(){var e=D(c.b.getBoundingClientRect());h=p(e,h.size);e=c.b;
t(e,"zoom--expanding")||t(e,"zoom--collapsing")?J(a.document,b,c.a,d,h):A(c.a.style,B(a.document,d,h))}),m,r;r=V(a,e,c.a,function(){r();n(a,"resize",g);void 0===c.clone||void 0===f||x(c.clone)||n(c.clone,"load",f);l(c.h,"zoom__overlay--visible");q(c.b,"zoom--collapsing");var k=y(c.a,b.g,function(){K(a,e,c)});t(c.b,"zoom--expanding")?(void 0!==m&&n(c.a,b.g,m),c.a.style[b.f]="",l(c.b,"zoom--expanding")):(U(c.a,b.transitionProperty,function(){J(a.document,b,c.a,d,h)}),c.a.style[b.f]="",G(c.a.style,"",
"","",""),l(c.b,"zoom--expanded"));void 0===k&&K(a,e,c)});q(c.b,"zoom--expanding");c.b.style.height=c.c.height+"px";T(c.c);m=y(c.a,b.g,function(){return k()});void 0===m?k():J(a.document,b,c.a,d,h)}function X(a,b){var e=u(a.document.body,"click",function(c){var d=c.target;if(d instanceof HTMLImageElement&&null!==d.parentElement&&null!==d.parentElement&&null!==d.parentElement.parentElement&&t(d,"zoom__element")){c.preventDefault();c.stopPropagation();var f=e,d=c.target,k=d.parentElement,h=t(k,"zoom__container"),
k=h?k.parentElement:k;if(c.metaKey||c.ctrlKey)a.open(H(k,d),"_blank");else{void 0!==f&&n(a.document.body,"click",f);var g,f=a.document;c=P(f,"zoom__overlay");f.body.appendChild(c);c.offsetHeight;q(c,"zoom__overlay--visible");if(h){g=d.parentElement;var h=g.parentElement,m;H(h,d)!==d.src&&(m=g.children.item(1));g={h:c,b:h,a:g,c:d,clone:m};void 0!==g.clone&&x(g.clone)&&I(d,g.clone)}else m=P(document,"zoom__container"),h=d.parentElement,f=H(h,d),f!==d.src&&(g=aa(f)),g={h:c,b:h,a:m,c:d,clone:g},g.b.replaceChild(g.a,
d),g.a.appendChild(d),void 0!==g.clone&&g.a.appendChild(g.clone);m=void 0;void 0!==g.clone&&(x(g.clone)?I(d,g.clone):m=u(g.clone,"load",ba(g)));var d=g.b,d=[O(d,"width"),O(d,"height")],r,h=document.body.style;c=W(h,"transform");h=W(h,"transition");f=!1;void 0!==c&&(f=!0);k=!1;void 0!==h&&(r=ja[h],k=null!==r);var l=!1;if(void 0!==c){var p=a.getComputedStyle,v=ka[c];if("function"===typeof p&&void 0!==v){var w=a.document,l=w.body,w=w.createElement("p");w.style[c]="translate3d(1px,1px,1px)";l.appendChild(w);
p=p(w).getPropertyValue(v);l.removeChild(w);l=0<p.length&&"none"!==p}else l=!1}r={f:c,transitionProperty:h,g:r,i:f,j:k,l:l};r.i&&r.j?ia(a,r,b,g,d,m):ha(a,b,g,d,m)}}})}var ka={WebkitTransform:"-webkit-transform",MozTransform:"-moz-transform",msTransform:"-ms-transform",OTransform:"-o-transform",transform:"transform"},ja={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},ga=["Webkit","Moz","ms",
"O"];(function(a,b){void 0===b&&(b={m:50});Z(a.document,function(){return X(a,b)})})(window)}"undefined"!==typeof module?C():"function"===typeof define&&define.o?define(C):C();
