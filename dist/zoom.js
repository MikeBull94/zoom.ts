/*
 zoom.ts v7.5.0
 https://www.michael-bull.com/projects/zoom.ts

 Copyright (c) 2017 Michael Bull (https://www.michael-bull.com)
 @license ISC
*/
function D(){function L(a){return[a.clientWidth,a.clientHeight]}function M(a,b){a=a.getAttribute("data-"+b);return null===a||(a=Number(a),isNaN(a))?Infinity:a}function W(a){"function"!==typeof a.preventDefault&&(a.preventDefault=function(){a.returnValue=!1});"function"!==typeof a.stopPropagation&&(a.stopPropagation=function(){a.cancelBubble=!0});if("mouseover"===a.type){var b=a;void 0===b.relatedTarget&&void 0!==b.fromElement&&(b.relatedTarget=b.fromElement)}else"mouseout"===a.type&&(b=a,void 0===
b.relatedTarget&&void 0!==b.toElement&&(b.relatedTarget=b.toElement));return a}function v(a,b){"function"===typeof a?a(b):a.handleEvent(b)}function u(a,b,d,c){function e(a){if(void 0===a)if(void 0!==window.event)a=window.event;else throw Error("No current event to handle.");v(d,W(a))}void 0===c&&(c=!1);var f=a.addEventListener,k=a.attachEvent;if("function"===typeof f)return f.call(a,b,e,c),e;if("function"===typeof k&&k.call(a,"on"+b,e))return e}function x(a,b,d){var c;void 0===c&&(c=!1);var e=u(a,
b,function(c){void 0!==e&&n(a,b,e);v(d,c)},c);return e}function n(a,b,d){var c=a.removeEventListener,e=a.detachEvent;"function"===typeof c?c.call(a,b,d):"function"===typeof e&&e.call(a,b,d)}function y(a){return"CSS1Compat"===a.compatMode?a.documentElement:a.body}function X(a,b){"complete"===a.readyState?b():x(a,"DOMContentLoaded",function(){return b()})}function N(a){var b=document.createElement("div");b.className=a;return b}function p(a,b){return{position:a,size:b}}function O(a){a=a.getBoundingClientRect();
return p(E(a),[a.width,a.height])}function F(a,b,d,c,e){a.left=b;a.top=d;a.width=c;a.maxWidth=c;a.height=e}function z(a,b){var d=b.position;b=b.size;F(a,d[0]+"px",d[1]+"px",b[0]+"px",b[1]+"px")}function A(a,b,d){a=L(y(a));var c=d.size;b=P([Math.min(a[0],b[0]),Math.min(a[1],b[1])],d.size);b=[c[0]*b,c[1]*b];return{position:Q(a,p(d.position,b)),size:b}}function E(a){return[a.left,a.top]}function G(a,b){return[a[0]/b,a[1]/b]}function H(a,b){return[a[0]-b[0],a[1]-b[1]]}function P(a,b){a=[a[0]/b[0],a[1]/
b[1]];return Math.min(a[0],a[1])}function Q(a,b){return H(G(H(a,b.size),2),b.position)}function I(a,b,d,c){var e;e=L(y(document));d=P([Math.min(e[0],d[0]),Math.min(e[1],d[1])],c.size);var f;f=c.size;f=[f[0]*d,f[1]*d];var k=c.position;c=G(H(c.size,f),2);e=G(Q(e,p([k[0]+c[0],k[1]+c[1]],f)),d);b.style[a.f]=a.l?"scale("+d+") "+("translate3d("+e[0]+"px, "+e[1]+"px, 0)"):"scale("+d+") "+("translate("+e[0]+"px, "+e[1]+"px)")}function R(a,b,d){a.style[b]="initial";d();a.offsetHeight;a.style[b]=""}function Y(a){var b=
""+a.charAt(0).toUpperCase()+a.substr(1),d=Z.map(function(a){return""+a+b});return[a].concat(d)}function S(a,b){var d=0;for(b=Y(b);d<b.length;d++){var c=b[d];if(c in a)return c}}function B(a,b,d){return 0<a.length&&d.indexOf(a)===b}function aa(a){return function(b,d,c){return b!==a&&B(b,d,c)}}function r(a,b){return-1!==a.className.indexOf(b)}function t(a,b){a.className=a.className.split(" ").filter(B).concat(b).filter(B).join(" ")}function l(a,b){a.className=a.className.split(" ").filter(B).filter(aa(b)).join(" ")}
function T(a){t(a,"zoom__element--active")}function J(a,b){a=a.getAttribute("data-src");return null===a?b.src:a}function ba(a){var b=document.createElement("img");b.className="zoom__clone";b.src=a;x(b,"load",function(){return t(b,"zoom__clone--loaded")});return b}function ca(a){return function(){void 0!==a.clone&&r(a.b,"zoom--expanded")&&!r(a.clone,"zoom__clone--visible")&&C(a.c,a.clone)}}function w(a){return r(a,"zoom__clone--loaded")}function C(a,b){t(b,"zoom__clone--visible");t(a,"zoom__element--hidden")}
function da(a,b){l(a,"zoom__element--hidden");l(b,"zoom__clone--visible")}function ea(a){return function(b){27===b.keyCode&&(b.preventDefault(),b.stopPropagation(),v(a,b))}}function fa(a,b,d,c){return function(e){Math.abs(a-d())>=b&&v(c,e)}}function U(a,b,d,c){var e=u(a,"scroll",fa(void 0===a.pageYOffset?y(a.document).scrollTop:a.pageYOffset,b.m,function(){return void 0===a.pageYOffset?y(a.document).scrollTop:a.pageYOffset},c)),f=u(a.document,"keyup",ea(c)),k=u(d,"click",c);return function(){n(a,
"scroll",e);n(a.document,"keyup",f);n(d,"click",k)}}function K(a,b,d){void 0!==d.clone&&da(d.c,d.clone);l(d.c,"zoom__element--active");a.document.body.removeChild(d.h);l(d.b,"zoom--collapsing");d.b.style.height="";setTimeout(function(){return V(a,b)},1)}function ga(a,b,d,c,e){var f=O(d.c),k=u(a,"resize",function(){var b=E(d.b.getBoundingClientRect());f=p(b,f.size);z(d.a.style,A(a.document,c,f))}),h;h=U(a,b,d.a,function(){h();n(a,"resize",k);void 0===d.clone||void 0===e||w(d.clone)||n(d.clone,"load",
e);l(d.b,"zoom--expanded");F(d.a.style,"","","","");K(a,b,d)});t(d.b,"zoom--expanded");d.b.style.height=d.c.height+"px";T(d.c);z(d.a.style,A(document,c,f))}function ha(a,b,d,c,e,f){function k(){void 0!==c.clone&&w(c.clone)&&!r(c.clone,"zoom__clone--visible")&&(void 0!==f&&n(c.clone,b.g,f),C(c.c,c.clone));l(c.b,"zoom--expanding");t(c.b,"zoom--expanded");R(c.a,b.transitionProperty,function(){c.a.style[b.f]="";z(c.a.style,A(a.document,e,h))})}var h=O(c.c),g=u(a,"resize",function(){var d=E(c.b.getBoundingClientRect());
h=p(d,h.size);d=c.b;r(d,"zoom--expanding")||r(d,"zoom--collapsing")?I(b,c.a,e,h):z(c.a.style,A(a.document,e,h))}),m,q;q=U(a,d,c.a,function(){q();n(a,"resize",g);void 0===c.clone||void 0===f||w(c.clone)||n(c.clone,"load",f);l(c.h,"zoom__overlay--visible");t(c.b,"zoom--collapsing");var k=x(c.a,b.g,function(){K(a,d,c)});r(c.b,"zoom--expanding")?(void 0!==m&&n(c.a,b.g,m),c.a.style[b.f]="",l(c.b,"zoom--expanding")):(R(c.a,b.transitionProperty,function(){I(b,c.a,e,h)}),c.a.style[b.f]="",F(c.a.style,"",
"","",""),l(c.b,"zoom--expanded"));void 0===k&&K(a,d,c)});t(c.b,"zoom--expanding");c.b.style.height=c.c.height+"px";T(c.c);m=x(c.a,b.g,function(){return k()});void 0===m?k():I(b,c.a,e,h)}function V(a,b){var d=u(a.document.body,"click",function(c){var e=c.target;if(e instanceof HTMLImageElement&&null!==e.parentElement&&null!==e.parentElement&&null!==e.parentElement.parentElement&&r(e,"zoom__element")){c.preventDefault();c.stopPropagation();var f=d,e=c.target,k=e.parentElement,h=r(k,"zoom__container"),
k=h?k.parentElement:k;if(c.metaKey||c.ctrlKey)a.open(J(k,e),"_blank");else{void 0!==f&&n(a.document.body,"click",f);var g;c=N("zoom__overlay");document.body.appendChild(c);c.offsetHeight;t(c,"zoom__overlay--visible");if(h){g=e.parentElement;var h=g.parentElement,m;J(h,e)!==e.src&&(m=g.children.item(1));g={h:c,b:h,a:g,c:e,clone:m};void 0!==g.clone&&w(g.clone)&&C(e,g.clone)}else m=N("zoom__container"),h=e.parentElement,f=J(h,e),f!==e.src&&(g=ba(f)),g={h:c,b:h,a:m,c:e,clone:g},g.b.replaceChild(g.a,e),
g.a.appendChild(e),void 0!==g.clone&&g.a.appendChild(g.clone);m=void 0;void 0!==g.clone&&(w(g.clone)?C(e,g.clone):m=u(g.clone,"load",ca(g)));var e=g.b,e=[M(e,"width"),M(e,"height")],q,h=document.body.style;c=S(h,"transform");h=S(h,"transition");f=!1;void 0!==c&&(f=!0);k=!1;void 0!==h&&(q=ia[h],k=void 0!==q);var l=!1;if(void 0!==c){var p=window.getComputedStyle,v=ja[c];"function"===typeof p&&void 0!==v?(l=document.createElement("p"),l.style[c]="translate3d(1px,1px,1px)",document.body.appendChild(l),
p=p(l).getPropertyValue(v),document.body.removeChild(l),l=0<p.length&&"none"!==p):l=!1}q={f:c,transitionProperty:h,g:q,i:f,j:k,l:l};q.i&&q.j?ha(a,q,b,g,e,m):ga(a,b,g,e,m)}}})}var ja={WebkitTransform:"-webkit-transform",MozTransform:"-moz-transform",msTransform:"-ms-transform",OTransform:"-o-transform",transform:"transform"},ia={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},Z=["Webkit","Moz",
"ms","O"];(function(a,b){void 0===b&&(b={m:50});X(a.document,function(){return V(a,b)})})(window)}"undefined"!==typeof module?D():"function"===typeof define&&define.o?define(D):D();
