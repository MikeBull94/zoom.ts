/*
 zoom.ts v7.5.0
 https://www.michael-bull.com/projects/zoom.ts

 Copyright (c) 2017 Michael Bull (https://www.michael-bull.com)
 @license ISC
*/
'use strict';(function(){function L(a,b){a=a.getAttribute("data-"+b);return null===a||(a=Number(a),isNaN(a))?Infinity:a}function Y(a){"function"!==typeof a.preventDefault&&(a.preventDefault=function(){a.returnValue=!1});"function"!==typeof a.stopPropagation&&(a.stopPropagation=function(){a.cancelBubble=!0});if("mouseover"===a.type){var b=a;void 0===b.relatedTarget&&void 0!==b.fromElement&&(b.relatedTarget=b.fromElement)}else"mouseout"===a.type&&(b=a,void 0===b.relatedTarget&&void 0!==b.toElement&&
(b.relatedTarget=b.toElement));return a}function v(a,b){"function"===typeof a?a(b):a.handleEvent(b)}function r(a,b,d,c){function e(a){if(void 0===a)if(void 0!==window.event)a=window.event;else throw Error("No current event to handle.");v(d,Y(a))}void 0===c&&(c=!1);var g=a.addEventListener,h=a.attachEvent;if("function"===typeof g)return g.call(a,b,e,c),e;if("function"===typeof h&&h.call(a,"on"+b,e))return e}function w(a,b,d){var c;void 0===c&&(c=!1);var e=r(a,b,function(c){void 0!==e&&n(a,b,e);v(d,
c)},c);return e}function n(a,b,d){var c=a.removeEventListener,e=a.detachEvent;"function"===typeof c?c.call(a,b,d):"function"===typeof e&&e.call(a,b,d)}function Z(a){var b=document;"complete"===b.readyState?a():w(b,"DOMContentLoaded",function(){return a()})}function M(){var a=document,a="CSS1Compat"===a.compatMode?a.documentElement:a.body;return[a.clientWidth,a.clientHeight]}function N(a){var b=document.createElement("div");b.className=a;return b}function aa(a){var b=""+a.charAt(0).toUpperCase()+a.substr(1),
d=ba.map(function(a){return""+a+b});return[a].concat(d)}function y(a,b){var d=0;for(b=aa(b);d<b.length;d++){var c=b[d];if(c in a)return c}}function p(a,b){return{position:a,size:b}}function O(a){a=a.getBoundingClientRect();return p(z(a),[a.width,a.height])}function A(a,b,d,c,e){a.left=b;a.top=d;a.width=c;a.maxWidth=c;a.height=e}function B(a,b){var d=b.position;b=b.size;A(a,d[0]+"px",d[1]+"px",b[0]+"px",b[1]+"px")}function C(a,b){var d=M(),c;c=b.size;a=P([Math.min(d[0],a[0]),Math.min(d[1],a[1])],b.size);
c=[c[0]*a,c[1]*a];return{position:Q(d,p(b.position,c)),size:c}}function z(a){return[a.left,a.top]}function D(a,b){return[a[0]/b,a[1]/b]}function E(a,b){return[a[0]-b[0],a[1]-b[1]]}function P(a,b){a=[a[0]/b[0],a[1]/b[1]];return Math.min(a[0],a[1])}function Q(a,b){return E(D(E(a,b.size),2),b.position)}function F(a,b,d,c){var e;e=M();d=P([Math.min(e[0],d[0]),Math.min(e[1],d[1])],c.size);var g;g=c.size;g=[g[0]*d,g[1]*d];var h=c.position;c=D(E(c.size,g),2);e=D(Q(e,p([h[0]+c[0],h[1]+c[1]],g)),d);b.style[a.g]=
a.j?"scale3d("+d+", "+d+", 1) "+("translate3d("+e[0]+"px, "+e[1]+"px, 0)"):"scale("+d+") "+("translate("+e[0]+"px, "+e[1]+"px)")}function ca(a,b,d){a.style[b]="initial";d();a.offsetHeight;a.style[b]=""}function R(a,b,d){return 0<a.length&&d.indexOf(a)===b}function da(a){return function(b,d,c){return b!==a&&R(b,d,c)}}function t(a,b){return-1!==a.className.indexOf(b)}function u(a,b){a.className=a.className.split(" ").concat(b).filter(R).join(" ")}function l(a,b){a.className=a.className.split(" ").filter(da(b)).join(" ")}
function G(a){u(a,"zoom__element--hidden")}function S(a){u(a,"zoom__element--active")}function H(a,b){a=a.getAttribute("data-src");return null===a?b.src:a}function ea(a){var b=document.createElement("img");b.className="zoom__clone";b.src=a;w(b,"load",function(){return u(b,"zoom__clone--loaded")});return b}function fa(a){return function(){if(void 0!==a.clone&&t(a.b,"zoom--expanded")&&!t(a.clone,"zoom__clone--visible")){var b=a.c;I(a.clone);G(b)}}}function I(a){u(a,"zoom__clone--visible")}function x(a){return t(a,
"zoom__clone--loaded")}function ga(a,b){l(a,"zoom__element--hidden");l(b,"zoom__clone--visible")}function T(){var a=window;void 0===a.pageYOffset?(a=a.document,a=("CSS1Compat"===a.compatMode?a.documentElement:a.body).scrollTop):a=a.pageYOffset;return a}function ha(a){return function(b){27===b.keyCode&&(b.preventDefault(),b.stopPropagation(),v(a,b))}}function ia(a,b,d,c){return function(e){Math.abs(a-d())>=b&&v(c,e)}}function U(a,b,d){var c=r(window,"scroll",ia(T(),a.m,function(){return T()},d)),e=
r(document,"keyup",ha(d)),g=r(b,"click",d);return function(){n(window,"scroll",c);n(document,"keyup",e);n(b,"click",g)}}function J(a,b){void 0!==b.clone&&ga(b.c,b.clone);l(b.c,"zoom__element--active");document.body.removeChild(b.f);l(b.b,"zoom--collapsing");b.b.style.height="";setTimeout(function(){return V(a)},1)}function ja(a,b,d,c){var e=O(b.c),g=r(window,"resize",function(){var a=z(b.b.getBoundingClientRect());e=p(a,e.size);B(b.a.style,C(d,e))}),h;h=U(a,b.a,function(){h();n(window,"resize",g);
void 0===b.clone||void 0===c||x(b.clone)||n(b.clone,"load",c);l(b.b,"zoom--expanded");A(b.a.style,"","","","");J(a,b)});u(b.b,"zoom--expanded");b.b.style.height=b.c.height+"px";S(b.c);B(b.a.style,C(d,e))}function ka(a,b,d,c,e){var g=O(b.c),h=r(window,"resize",function(){var a=z(b.b.getBoundingClientRect());g=p(a,g.size);a=b.b;t(a,"zoom--expanding")||t(a,"zoom--collapsing")?F(e,b.a,d,g):B(b.a.style,C(d,g))}),f,m;m=U(a,b.a,function(){m();n(window,"resize",h);void 0===b.clone||void 0===c||x(b.clone)||
n(b.clone,"load",c);l(b.f,"zoom__overlay--visible");u(b.b,"zoom--collapsing");var q=w(b.a,e.h,function(){J(a,b)});t(b.b,"zoom--expanding")?(void 0!==f&&n(b.a,e.h,f),b.a.style[e.g]="",l(b.b,"zoom--expanding")):(ca(b.a,e.transitionProperty,function(){F(e,b.a,d,g)}),b.a.style[e.g]="",A(b.a.style,"","","",""),l(b.b,"zoom--expanded"));void 0===q&&J(a,b)});u(b.b,"zoom--expanding");b.b.style.height=b.c.height+"px";S(b.c);f=w(b.a,e.h,function(){});void 0!==f&&F(e,b.a,d,g)}function V(a){var b=r(document.body,
"click",function(d){var c=d.target;if(c instanceof HTMLImageElement&&null!==c.parentElement&&null!==c.parentElement&&null!==c.parentElement.parentElement&&t(c,"zoom__element")){d.preventDefault();d.stopPropagation();var e=b,c=d.target,g=c.parentElement,h=t(g,"zoom__container"),g=h?g.parentElement:g;if(d.metaKey||d.ctrlKey)window.open(H(g,c),"_blank");else{void 0!==e&&n(document.body,"click",e);var f;d=N("zoom__overlay");document.body.appendChild(d);d.offsetHeight;u(d,"zoom__overlay--visible");if(h){f=
c.parentElement;var h=f.parentElement,m;H(h,c)!==c.src&&(m=f.children.item(1));f={f:d,b:h,a:f,c:c,clone:m};void 0!==f.clone&&x(f.clone)&&(I(f.clone),G(c))}else m=N("zoom__container"),h=c.parentElement,e=H(h,c),e!==c.src&&(f=ea(e)),f={f:d,b:h,a:m,c:c,clone:f},f.b.replaceChild(f.a,c),f.a.appendChild(c),void 0!==f.clone&&f.a.appendChild(f.clone);m=void 0;void 0!==f.clone&&(x(f.clone)?(I(f.clone),G(c)):m=r(f.clone,"load",fa(f)));var c=f.b,c=[L(c,"width"),L(c,"height")],q,h=document.body.style;d=y(h,"transform");
h=y(h,"transition");e=!1;void 0!==d&&(e=!0);g=!1;void 0!==h&&(q=la[h],g=void 0!==q);var k=!1;if(void 0!==d)if(k=document.body.style,void 0!==y(k,"perspective"))if("WebkitPerspective"in k){k=document.createElement("div");k.id=K;k.style.position="absolute";var l=document.createElement("style");l.textContent=ma;var p=document.body;p.appendChild(l);p.appendChild(k);var v=k.offsetWidth,w=k.offsetHeight;p.removeChild(l);p.removeChild(k);k=v===W&&w===X}else k=!0;else k=!1;q={g:d,transitionProperty:h,h:q,
i:e,j:k,l:g};q.i&&q.l?ka(a,f,c,m,q):ja(a,f,c,m)}}})}var ba=["Webkit","Moz","ms","O"],K="test3d",W=4,X=8,ma=""+("#"+K+"{margin:0;padding:0;border:0;width:0;height:0}")+"@media (transform-3d),(-webkit-transform-3d){"+("#"+K+"{width:"+(W+"px")+";height:"+(X+"px")+"}")+"}",la={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"};(function(a){void 0===a&&(a={m:50});Z(function(){return V(a)})})()})();
