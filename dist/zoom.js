/*
 zoom.ts v7.5.0
 https://www.michael-bull.com/projects/zoom.ts

 Copyright (c) 2017 Michael Bull (https://www.michael-bull.com)
 @license ISC
*/
'use strict';(function(){function K(a,b){a=a.getAttribute("data-"+b);return null===a||(a=Number(a),isNaN(a))?Infinity:a}function L(a){void 0===a&&(a=window);void 0===a.pageYOffset?(a=a.document,a=(a.compatMode===M?a.documentElement:a.body).scrollTop):a=a.pageYOffset;return a}function aa(a){"function"!==typeof a.preventDefault&&(a.preventDefault=function(){a.returnValue=!1});"function"!==typeof a.stopPropagation&&(a.stopPropagation=function(){a.cancelBubble=!0});if("mouseover"===a.type){var b=a;void 0===
b.relatedTarget&&void 0!==b.fromElement&&(b.relatedTarget=b.fromElement)}else"mouseout"===a.type&&(b=a,void 0===b.relatedTarget&&void 0!==b.toElement&&(b.relatedTarget=b.toElement));return a}function v(a,b){"function"===typeof a?a(b):a.handleEvent(b)}function t(a,b,d,c){function e(a){if(void 0===a)if(void 0!==window.event)a=window.event;else throw Error("No current event to handle.");v(d,aa(a))}void 0===c&&(c=!1);var g=a.addEventListener,f=a.attachEvent;if("function"===typeof g)return g.call(a,b,
e,c),e;if("function"===typeof f&&f.call(a,"on"+b,e))return e}function n(a,b,d){var c=a.removeEventListener,e=a.detachEvent;"function"===typeof c?c.call(a,b,d):"function"===typeof e&&e.call(a,b,d)}function ba(a){return function(b){27===b.keyCode&&(b.preventDefault(),b.stopPropagation(),v(a,b))}}function ca(a,b,d,c){return function(e){Math.abs(a-d())>=b&&v(c,e)}}function N(a,b,d){var c=t(window,"scroll",ca(L(),a.m,L,d)),e=t(document,"keyup",ba(d)),g=t(b,"click",d);return function(){n(window,"scroll",
c);n(document,"keyup",e);n(b,"click",g)}}function w(a,b,d){var c;void 0===c&&(c=!1);var e=t(a,b,function(c){void 0!==e&&n(a,b,e);v(d,c)},c);return e}function da(a){var b=document;"complete"===b.readyState?a():w(b,"DOMContentLoaded",function(){return a()})}function O(){var a=document,a=a.compatMode===M?a.documentElement:a.body;return[a.clientWidth,a.clientHeight]}function P(a){var b=document.createElement("div");b.className=a;return b}function ea(a){var b=""+a.charAt(0).toUpperCase()+a.substr(1),d=
fa.map(function(a){return""+a+b});return[a].concat(d)}function A(a,b){var d=0;for(b=ea(b);d<b.length;d++){var c=b[d];if(c in a)return c}}function u(a,b){return{position:a,size:b}}function Q(a){a=a.getBoundingClientRect();return u(B(a),[a.width,a.height])}function C(a,b,d,c,e){a.left=b;a.top=d;a.width=c;a.maxWidth=c;a.height=e}function x(a,b){var d=b.position;b=b.size;C(a,d[0]+"px",d[1]+"px",b[0]+"px",b[1]+"px")}function y(a,b){var d=O();var c=b.size;a=R([Math.min(d[0],a[0]),Math.min(d[1],a[1])],b.size);
c=[c[0]*a,c[1]*a];return{position:S(d,u(b.position,c)),size:c}}function B(a){return[a.left,a.top]}function D(a,b){return[a[0]/b,a[1]/b]}function E(a,b){return[a[0]-b[0],a[1]-b[1]]}function R(a,b){a=[a[0]/b[0],a[1]/b[1]];return Math.min(a[0],a[1])}function S(a,b){return E(D(E(a,b.size),2),b.position)}function F(a,b,d,c){var e=O();d=R([Math.min(e[0],d[0]),Math.min(e[1],d[1])],c.size);var g=c.size;g=[g[0]*d,g[1]*d];var f=c.position;c=D(E(c.size,g),2);e=D(S(e,u([f[0]+c[0],f[1]+c[1]],g)),d);b.style[a.g]=
a.j?"scale3d("+d+", "+d+", 1) "+("translate3d("+e[0]+"px, "+e[1]+"px, 0)"):"scale("+d+") "+("translate("+e[0]+"px, "+e[1]+"px)")}function T(a,b,d){a.style[b]="initial";d();a.offsetHeight;a.style[b]=""}function U(a,b,d){return 0<a.length&&d.indexOf(a)===b}function ga(a){return function(b,d,c){return b!==a&&U(b,d,c)}}function r(a,b){return-1!==a.className.indexOf(b)}function m(a,b){a.className=a.className.split(" ").concat(b).filter(U).join(" ")}function k(a,b){a.className=a.className.split(" ").filter(ga(b)).join(" ")}
function V(a){m(a,"zoom__element--active")}function G(a,b){a=a.getAttribute("data-src");return null===a?b.src:a}function ha(a){var b=document.createElement("img");b.className="zoom__clone";b.src=a;w(b,"load",function(){return m(b,"zoom__clone--loaded")});return b}function ia(a){return function(){void 0!==a.clone&&r(a.b,"zoom--expanded")&&!r(a.clone,"zoom__clone--visible")&&H(a.c,a.clone)}}function z(a){return r(a,"zoom__clone--loaded")}function H(a,b){m(b,"zoom__clone--visible");m(a,"zoom__element--hidden")}
function ja(a,b){k(a,"zoom__element--hidden");k(b,"zoom__clone--visible")}function W(a){document.body.appendChild(a);a.offsetHeight;m(a,"zoom__overlay--visible")}function I(a,b){void 0!==b.clone&&ja(b.c,b.clone);k(b.c,"zoom__element--active");document.body.removeChild(b.f);k(b.b,"zoom--collapsing");b.b.style.height="";setTimeout(function(){return X(a)},1)}function ka(a,b,d,c){var e=Q(b.c),g=t(window,"resize",function(){var a=B(b.b.getBoundingClientRect());e=u(a,e.size);x(b.a.style,y(d,e))});var f=
N(a,b.a,function(){f();n(window,"resize",g);void 0===b.clone||void 0===c||z(b.clone)||n(b.clone,"load",c);k(b.b,"zoom--expanded");C(b.a.style,"","","","");I(a,b)});W(b.f);m(b.b,"zoom--expanded");b.b.style.height=b.c.height+"px";V(b.c);x(b.a.style,y(d,e))}function la(a,b,d,c,e){function g(){void 0!==b.clone&&z(b.clone)&&!r(b.clone,"zoom__clone--visible")&&(void 0!==c&&n(b.clone,e.h,c),H(b.c,b.clone));k(b.b,"zoom--expanding");m(b.b,"zoom--expanded");T(b.a,e.transitionProperty,function(){b.a.style[e.g]=
"";x(b.a.style,y(d,f))})}var f=Q(b.c),h=t(window,"resize",function(){var a=B(b.b.getBoundingClientRect());f=u(a,f.size);a=b.b;r(a,"zoom--expanding")||r(a,"zoom--collapsing")?F(e,b.a,d,f):x(b.a.style,y(d,f))});var p=N(a,b.a,function(){p();n(window,"resize",h);void 0===b.clone||void 0===c||z(b.clone)||n(b.clone,"load",c);k(b.f,"zoom__overlay--visible");m(b.b,"zoom--collapsing");var g=w(b.a,e.h,function(){I(a,b)});r(b.b,"zoom--expanding")?(void 0!==q&&n(b.a,e.h,q),b.a.style[e.g]="",k(b.b,"zoom--expanding")):
(T(b.a,e.transitionProperty,function(){F(e,b.a,d,f)}),b.a.style[e.g]="",C(b.a.style,"","","",""),k(b.b,"zoom--expanded"));void 0===g&&I(a,b)});W(b.f);m(b.b,"zoom--expanding");b.b.style.height=b.c.height+"px";V(b.c);var q=w(b.a,e.h,function(){return g()});void 0===q?g():F(e,b.a,d,f)}function X(a){var b=t(document.body,"click",function(d){var c=d.target;if(c instanceof HTMLImageElement&&null!==c.parentElement&&null!==c.parentElement&&null!==c.parentElement.parentElement&&r(c,"zoom__element")){d.preventDefault();
d.stopPropagation();var e=b,c=d.target,g=c.parentElement,f=r(g,"zoom__container"),g=f?g.parentElement:g;if(d.metaKey||d.ctrlKey)window.open(G(g,c),"_blank");else{void 0!==e&&n(document.body,"click",e);d=P("zoom__overlay");if(f){var h=c.parentElement;var f=h.parentElement,p;G(f,c)!==c.src&&(p=h.children.item(1));h={f:d,b:f,a:h,c:c,clone:p}}else p=P("zoom__container"),f=c.parentElement,e=G(f,c),e!==c.src&&(h=ha(e)),h={f:d,b:f,a:p,c:c,clone:h},h.b.replaceChild(h.a,c),h.a.appendChild(c),void 0!==h.clone&&
h.a.appendChild(h.clone);p=void 0;void 0!==h.clone&&(z(h.clone)?H(c,h.clone):p=t(h.clone,"load",ia(h)));var c=h.b,c=[K(c,"width"),K(c,"height")],f=document.body.style;d=A(f,"transform");f=A(f,"transition");e=!1;void 0!==d&&(e=!0);g=!1;if(void 0!==f){var q=ma[f];g=void 0!==q}var l=!1;if(void 0!==d)if(l=document.body.style,void 0!==A(l,"perspective"))if("WebkitPerspective"in l){l=document.createElement("div");l.id=J;l.style.position="absolute";var m=document.createElement("style");m.textContent=na;
var k=document.body;k.appendChild(m);k.appendChild(l);var u=l.offsetWidth,v=l.offsetHeight;k.removeChild(m);k.removeChild(l);l=u===Y&&v===Z}else l=!0;else l=!1;q={g:d,transitionProperty:f,h:q,i:e,j:l,l:g};q.i&&q.l?la(a,h,c,p,q):ka(a,h,c,p)}}})}var M="CSS1Compat",fa=["Webkit","Moz","ms","O"],J="test3d",Y=4,Z=8,na=""+("#"+J+"{margin:0;padding:0;border:0;width:0;height:0}")+"@media (transform-3d),(-webkit-transform-3d){"+("#"+J+"{width:"+(Y+"px")+";height:"+(Z+"px")+"}")+"}",ma={WebkitTransition:"webkitTransitionEnd",
MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},oa={m:50};(function(a){void 0===a&&(a=oa);da(function(){return X(a)})})()})();
